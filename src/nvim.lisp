(define-native nvim_command)
(define-native nvim_feedkeys)
(define-native nvim_input)
(define-native nvim_replace_termcodes)
(define-native nvim_command_output)
(define-native nvim_eval)
(define-native nvim_call_function)
(define-native nvim_execute_lua)
(define-native nvim_strwidth)
(define-native nvim_list_runtime_paths)
(define-native nvim_set_current_dir)
(define-native nvim_get_current_line)
(define-native nvim_set_current_line)
(define-native nvim_del_current_line)
(define-native nvim_get_var)
(define-native nvim_set_var)
(define-native nvim_del_var)
(define-native nvim_get_vvar)
(define-native nvim_get_option)
(define-native nvim_set_option)
(define-native nvim_out_write)
(define-native nvim_err_write)
(define-native nvim_err_writeln)
(define-native nvim_list_bufs)
(define-native nvim_get_current_buf)
(define-native nvim_set_current_buf)
(define-native nvim_list_wins)
(define-native nvim_get_current_win)
(define-native nvim_set_current_win)
(define-native nvim_list_tabpages)
(define-native nvim_get_current_tabpage)
(define-native nvim_set_current_tabpage)
(define-native nvim_subscribe)
(define-native nvim_unsubscribe)
(define-native nvim_get_color_by_name)
(define-native nvim_get_color_map)
(define-native nvim_get_mode)
(define-native nvim_get_keymap)
(define-native nvim_get_api_info)
(define-native nvim_call_atomic)
(define-native nvim__id)
(define-native nvim__id_array)
(define-native nvim__id_dictionary)
(define-native nvim__id_float)
(define-native nvim_buf_line_count)
(define-native nvim_buf_get_lines)
(define-native nvim_buf_set_lines)
(define-native nvim_buf_get_var)
(define-native nvim_buf_get_changedtick)
(define-native nvim_buf_get_keymap)
(define-native nvim_buf_set_var)
(define-native nvim_buf_del_var)
(define-native nvim_buf_get_option)
(define-native nvim_buf_set_option)
(define-native nvim_buf_get_name)
(define-native nvim_buf_set_name)
(define-native nvim_buf_is_valid)
(define-native nvim_buf_get_mark)
(define-native nvim_buf_add_highlight)
(define-native nvim_buf_clear_highlight)
(define-native nvim_win_get_buf)
(define-native nvim_win_get_cursor)
(define-native nvim_win_set_cursor)
(define-native nvim_win_get_height)
(define-native nvim_win_set_height)
(define-native nvim_win_get_width)
(define-native nvim_win_set_width)
(define-native nvim_win_get_var)
(define-native nvim_win_set_var)
(define-native nvim_win_del_var)
(define-native nvim_win_get_option)
(define-native nvim_win_set_option)
(define-native nvim_win_get_position)
(define-native nvim_win_get_tabpage)
(define-native nvim_win_get_number)
(define-native nvim_win_is_valid)
(define-native nvim_tabpage_list_wins)
(define-native nvim_tabpage_get_var)
(define-native nvim_tabpage_set_var)
(define-native nvim_tabpage_del_var)
(define-native nvim_tabpage_get_win)
(define-native nvim_tabpage_get_number)
(define-native nvim_tabpage_is_valid)
(define-native remote_ui_disconnect)
(define-native nvim_ui_attach)
(define-native nvim_ui_detach)
(define-native nvim_ui_try_resize)
(define-native nvim_ui_set_option)

(defun list->struct
  (x)
  (when (list? x)
    (.<! x :n nil)
    (.<! x :tag nil))
  x)

(defun nvim_call_function*
  (&args)
  (nvim_call_function (car args) (list->struct (cdr args))))
